

<div style="width: 100%;">

  <mat-tab-group dynamicHeight color="accent" backgroundColor="primary" >
    <mat-tab mat-align-tabs="start" label="Load">
      <!--
      <div class="example-small-box mat-elevation-z4">
        <button mat-raised-button (click)='test1()'>+</button>
      </div>
      -->

      <div class="example-large-box mat-elevation-z4">
        <mat-stepper #stepper style="height: 100%;width: 100%; background-color:white" color="accent">
          <mat-step >
            <ng-template matStepLabel>Excel Files</ng-template>
            <load-excel></load-excel>
           
          </mat-step>
          <mat-step [stepControl]="firstFormGroup" >
            
            <ng-template matStepLabel>CSV files</ng-template>
            <load-csv></load-csv>
            <form [formGroup]="firstFormGroup" >
              
              
              
        
              <div  class="bottom-e">
              </div>
            </form>
           
          </mat-step>
          <mat-step [stepControl]="secondFormGroup" >
            <ng-template matStepLabel>Create variable group</ng-template>
            
            <form [formGroup]="secondFormGroup" style="margin-bottom: 10px;" >
              <mat-form-field appearance="legacy" style="width: 300px;">
                <mat-label>Variables Group name</mat-label>
                <input matInput placeholder="Variables Group name" formControlName="name"  >
              </mat-form-field>
              <br>
              <mat-form-field appearance="legacy" style="width: 300px;">
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option *ngFor="let option of variableList" [value]="option">
                    {{option}}
                  </mat-option>
                </mat-autocomplete>
                <mat-label>Filter</mat-label>
                <input matInput placeholder="Variable name" formControlName="filter" [matAutocomplete]="auto" >
              </mat-form-field>
              
              <mat-form-field appearance="legacy" style="width: 300px;">
                <mat-label>Variables</mat-label>
                <mat-select [formControl]="variableGroup" multiple [value]="selections">
                  <mat-option *ngFor="let variable of variableList" [value]="variable">{{variable}}</mat-option>
                </mat-select>
              </mat-form-field>
              <button mat-raised-button color="accent" (click)="create_group()">Create group</button>
            </form>
            <p>sélection : {{selections_str}}</p>
            <variables-group *ngFor="let vg of vgs" [variablesGroup]="vg" class="vg"></variables-group>
          </mat-step>
        </mat-stepper>
        
      </div>
      
    </mat-tab>
    <mat-tab mat-align-tabs="start" label="Vue générale" >
      <div class="example-large-box mat-elevation-z4" style="display: block;">
        <app-general-view></app-general-view>
       
      </div>
    </mat-tab>
    <mat-tab mat-align-tabs="start" label="Groupe de variables" >
      <div class="example-large-box mat-elevation-z4" style="display: block;">
        Groupe de variables
       
      </div>
    </mat-tab>
  </mat-tab-group>
  
</div>
